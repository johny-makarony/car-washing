"use strict";(self.webpackChunkcar_washing=self.webpackChunkcar_washing||[]).push([[641],{8641:function(n,e,t){t.r(e),t.d(e,{default:function(){return Y}});var r,a,i,c,o,s,l,d,u,h=t(9439),x=t(2791),v=t(9434),m=t(5705),f=t(7520),p=t(1599),g=t(822),j=t(9256),b=t(5365),y=t(3184),C=t(1214),Z=t(2023),w=t(9524),_=t(7596),k=t(9174),P=t(184),D=function(n){var e=(0,v.v9)(C.f),t=(0,v.v9)(Z.r),r=(0,v.v9)(k.O9),a=(0,v.I0)();(0,x.useEffect)((function(){a((0,b.U)()),a((0,y.X)()),a((0,_.Ui)())}),[a]);var i=function(){n.handleExitModal(!0)},c=(0,m.TA)({initialValues:{clientName:"",clientPhone:"",clientComment:"",serviceObject:"",payment:"",orderDate:"",services:"",washer:"",administrator:"",discountPercent:"",urgently:""},onSubmit:function(n){var e={};for(var t in n)""!==n[t]&&(e[t]=n[t]);e.services&&(e.services=[e.services]),a((0,w.Q2)(e)),i()}});return(0,P.jsx)(f.YM,{onClick:function(n){n.target===n.currentTarget&&i()},children:(0,P.jsxs)(f.u_,{children:[(0,P.jsx)(f.PZ,{type:"button",onClick:i,children:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"}),(0,P.jsxs)(f.l0,{onSubmit:c.handleSubmit,children:[(0,P.jsx)(f.Dx,{children:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,P.jsx)(p.Z,{required:!0,type:"text",id:"clientName",name:"clientName",label:"\u0406\u043c'\u044f \u043a\u043b\u0456\u0454\u043d\u0442\u0430",value:c.values.clientName,onChange:c.handleChange,variant:"standard",style:{width:"100%"}}),(0,P.jsx)(p.Z,{required:!0,type:"text",id:"clientPhone",name:"clientPhone",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043a\u043b\u0456\u0454\u043d\u0442\u0430",value:c.values.clientPhone,onChange:c.handleChange,variant:"standard",style:{width:"100%"}}),(0,P.jsx)(p.Z,{type:"text",id:"clientComment",name:"clientComment",label:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440 \u043a\u043b\u0456\u0454\u043d\u0442\u0430",value:c.values.clientComment,onChange:c.handleChange,variant:"standard",style:{width:"100%"}}),(0,P.jsx)(p.Z,{required:!0,type:"text",id:"serviceObject",name:"serviceObject",label:"\u041e\u0431'\u0454\u043a\u0442 \u043f\u043e\u0441\u043b\u0443\u0433",value:c.values.serviceObject,onChange:c.handleChange,variant:"standard",style:{width:"100%"}}),(0,P.jsx)(p.Z,{required:!0,type:"datetime-local",id:"orderDate",name:"orderDate",value:c.values.orderDate,onChange:c.handleChange,variant:"standard",style:{width:"100%"}}),(0,P.jsx)(p.Z,{type:"number",id:"discountPercent",name:"discountPercent",label:"\u0412\u0456\u0434\u0441\u043e\u0442\u043e\u043a \u0437\u043d\u0438\u0436\u043a\u0438, %",value:c.values.discountPercent,onChange:c.handleChange,inputProps:{min:"1"},variant:"standard",style:{width:"100%"}}),(0,P.jsxs)(g.Z,{id:"payment",name:"payment",value:c.values.payment,onChange:c.handleChange,variant:"standard",style:{width:"100%"},children:[(0,P.jsx)(j.Z,{value:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430",children:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430"}),(0,P.jsx)(j.Z,{value:"\u0411\u0435\u0437\u0433\u043e\u0442\u0456\u0432\u043a\u0430",children:"\u0411\u0435\u0437\u0433\u043e\u0442\u0456\u0432\u043a\u0430"})]}),(0,P.jsx)(g.Z,{id:"services",name:"services",value:c.values.services,onChange:c.handleChange,variant:"standard",style:{width:"100%"},children:e.map((function(n){return(0,P.jsx)(j.Z,{value:n,children:"".concat(n.category,". ").concat(n.name,". ").concat(n.price,"\u0433\u0440\u043d")},n._id)}))}),(0,P.jsx)(g.Z,{id:"washer",name:"washer",value:c.values.washer,onChange:c.handleChange,variant:"standard",style:{width:"100%"},children:t.map((function(n){return(0,P.jsx)(j.Z,{value:n.name,children:n.name},n._id)}))}),(0,P.jsx)(g.Z,{id:"administrator",name:"administrator",value:c.values.administrator,onChange:c.handleChange,variant:"standard",style:{width:"100%"},children:r.map((function(n){return(0,P.jsx)(j.Z,{value:n.name,children:n.name},n._id)}))}),(0,P.jsxs)(g.Z,{id:"urgently",name:"urgently",value:c.values.urgently,onChange:c.handleChange,variant:"standard",style:{width:"100%"},children:[(0,P.jsx)(j.Z,{value:!0,children:"\u0422\u0430\u043a"}),(0,P.jsx)(j.Z,{value:!1,children:"\u041d\u0456"})]}),(0,P.jsx)("button",{type:"submit",className:"btn",children:"\u0414\u043e\u0434\u0430\u0442\u0438"})]})]})})},N=t(7689),O=t(3351),L=t(168),S=t(6088),U=S.Z.ul(r||(r=(0,L.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  list-style: none;\n"]))),E=t(1087),T=S.Z.li(a||(a=(0,L.Z)(["\n  padding: 20px;\n  background-color: var(--admin-items-bg-color);\n"]))),q=S.Z.div(i||(i=(0,L.Z)(["\n  display: flex;\n  gap: 8px;\n  align-items: center;\n"]))),z=(0,S.Z)(E.rU)(c||(c=(0,L.Z)(["\n  font-size: 16px;\n  font-weight: 700;\n  color: var(--white-color);\n  &:hover {\n    color: var(--accent-color);\n  }\n"]))),A=S.Z.b(o||(o=(0,L.Z)(["\n  background-color: red;\n  font-size: 12px;\n"]))),H=S.Z.button(s||(s=(0,L.Z)(["\n  background-color: ",";\n  padding: 5px;\n  margin-left: auto;\n  min-width: 75px;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n"])),(function(n){return n.color})),I=t(1553),M=function(n){var e=n.order;return(0,P.jsxs)(T,{children:[e.urgently&&(0,P.jsx)(A,{children:"\u0422\u0435\u0440\u043c\u0456\u043d\u043e\u0432\u043e!"}),(0,P.jsxs)(q,{children:[(0,P.jsx)(z,{to:"/admin/order/".concat(e.orderNumber),children:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f ".concat(e.orderNumber)}),(0,P.jsx)(H,{type:"button",className:function(n){var e=n.order;return"\u041d\u043e\u0432\u0435"===e.status?"status__btn status__btn--new":"\u0412 \u0440\u043e\u0431\u043e\u0442\u0456"===e.status?"status__btn status__btn--in-process":"\u0421\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u0435"===e.status?"status__btn status__btn--canceled":"status__btn status__btn--completed"}({order:e}),children:"".concat(e.status)})]}),(0,P.jsx)("hr",{}),(0,P.jsx)("p",{children:"\u041a\u043b\u0456\u0454\u043d\u0442: ".concat(e.clientName)}),(0,P.jsx)("p",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438: ".concat(e.clientPhone)}),(0,P.jsx)("p",{children:"\u041e\u0431'\u0454\u043a\u0442 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f: ".concat(e.serviceObject?e.serviceObject:"")}),(0,P.jsx)("p",{children:"\u0414\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 \u043f\u043e\u0441\u043b\u0443\u0433\u0438: ".concat((0,I.w)(e.orderDate))}),e.orderExecutionDate&&(0,P.jsx)("p",{children:"\u0414\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f: ".concat((0,I.w)(e.orderExecutionDate))}),(0,P.jsx)("hr",{}),(0,P.jsx)("p",{children:"\u041f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a: ".concat(e.washer?e.washer:"")}),(0,P.jsx)("p",{children:"\u0410\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440: ".concat(e.administrator?e.administrator:"")}),(0,P.jsx)("hr",{}),(0,P.jsx)("p",{children:"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f: ".concat(e.discountedCostOrder," \u0433\u0440\u043d")})]})},B=function(){var n=(0,v.v9)(O.ny),e=(0,v.I0)(),t=(0,N.TH)(),r=new URLSearchParams(t.search),a=r.get("status")||"",i=r.get("page")||1;return(0,x.useEffect)((function(){e((0,w.zk)({status:a,page:i}))}),[e,a,i]),(0,P.jsx)(U,{children:n.map((function(n){return(0,P.jsx)(M,{order:n},n._id)}))})},Q=S.Z.ul(l||(l=(0,L.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n  list-style: none;\n"]))),R=S.Z.li(d||(d=(0,L.Z)([""]))),V=S.Z.button(u||(u=(0,L.Z)(["\n  background-color: ",";\n  padding: 5px;\n  min-width: 75px;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n"])),(function(n){return n.color})),X=function(){var n=(0,N.TH)(),e=(0,N.s0)(),t=new URLSearchParams(n.search),r=function(n){var r="";"\u0412\u0441\u0456"===n.target.textContent?r="":"\u041d\u043e\u0432\u0456"===n.target.textContent?r="\u041d\u043e\u0432\u0435":"\u0412 \u0440\u043e\u0431\u043e\u0442\u0456"===n.target.textContent?r="\u0412 \u0440\u043e\u0431\u043e\u0442\u0456":"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u0456"===n.target.textContent?r="\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u0435":"\u0421\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u0456"===n.target.textContent&&(r="\u0421\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u0435"),t.set("status",r),e("/admin/orders?".concat(r.length>0?"status=".concat(r):"","&page=1"))};return(0,P.jsxs)(Q,{children:[(0,P.jsx)(R,{children:(0,P.jsx)(V,{type:"button",color:"var(--filter-all-color)",onClick:function(n){r(n)},children:"\u0412\u0441\u0456"})}),(0,P.jsx)(R,{children:(0,P.jsx)(V,{type:"button",color:"var(--filter-new-color)",onClick:function(n){r(n)},children:"\u041d\u043e\u0432\u0456"})}),(0,P.jsx)(R,{children:(0,P.jsx)(V,{type:"button",color:"var(--filter-inProcess-color)",onClick:function(n){r(n)},children:"\u0412 \u0440\u043e\u0431\u043e\u0442\u0456"})}),(0,P.jsx)(R,{children:(0,P.jsx)(V,{type:"button",color:"var(--filter-completed-color)",onClick:function(n){r(n)},children:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u0456"})}),(0,P.jsx)(R,{children:(0,P.jsx)(V,{type:"button",color:"var(--filter-cancelled-color)",onClick:function(n){r(n)},children:"\u0421\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u0456"})})]})},Y=function(){var n=(0,x.useState)(!1),e=(0,h.Z)(n,2),t=e[0],r=e[1];return(0,P.jsxs)("section",{children:[(0,P.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"20px",marginBottom:"20px"},children:[(0,P.jsx)("button",{type:"button",onClick:function(){return r(!0)},className:"btn",style:{marginLeft:"auto",color:"white"},children:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,P.jsx)(X,{})]}),(0,P.jsx)(B,{}),t&&(0,P.jsx)(D,{handleExitModal:function(){r(!1)}})]})}},9174:function(n,e,t){t.d(e,{O9:function(){return a},Qb:function(){return r}});var r=function(n){return n.auth.isLoggedIn},a=function(n){return n.auth.administrators}},2023:function(n,e,t){t.d(e,{H:function(){return a},r:function(){return r}});var r=function(n){return n.employees.items},a=function(n){return n.employees.isLoading}},3351:function(n,e,t){t.d(e,{ny:function(){return r},xC:function(){return a},yZ:function(){return i}});var r=function(n){return n.orders.items},a=function(n){return n.orders.orderByNumber},i=function(n){return n.orders.isLoading}},1214:function(n,e,t){t.d(e,{f:function(){return r}});var r=function(n){return n.services.items}},1553:function(n,e,t){function r(n){var e=new Date(n),t=e.toLocaleDateString("uk-UA",{day:"2-digit",month:"2-digit",year:"numeric"}),r=e.toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"});return"".concat(t," | ").concat(r)}t.d(e,{w:function(){return r}})}}]);
//# sourceMappingURL=641.1d7ea2a3.chunk.js.map